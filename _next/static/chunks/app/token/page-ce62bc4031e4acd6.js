(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[612],{36756:function(e,a,l){Promise.resolve().then(l.bind(l,33225)),Promise.resolve().then(l.bind(l,76928))},76928:function(e,a,l){"use strict";l.d(a,{default:function(){return _}});var s=l(57437),t=l(16463),i=l(55355),n=l(38472),r=l(71659),d=l(60142),o=l(2265),c=l(52431),u=l(77576),f=l(4312);let m=o.forwardRef((e,a)=>{let{className:l,value:t,...i}=e;return(0,s.jsx)(u.zt,{children:(0,s.jsxs)(u.fC,{children:[(0,s.jsx)(u.xz,{asChild:!0,children:(0,s.jsx)(c.fC,{ref:a,className:(0,f.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",l),...i,children:(0,s.jsx)(c.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(t||0),"%)")}})})}),(0,s.jsx)(u.h_,{children:(0,s.jsxs)(u.VY,{className:"data-[state=delayed-open]:data-[side=top]:animate-slideDownAndFade data-[state=delayed-open]:data-[side=right]:animate-slideLeftAndFade data-[state=delayed-open]:data-[side=left]:animate-slideRightAndFade data-[state=delayed-open]:data-[side=bottom]:animate-slideUpAndFade text-white select-none rounded-[4px] bg-black px-[15px] py-[10px] text-[15px] leading-none shadow-[hsl(206_22%_7%_/_35%)_0px_10px_38px_-10px,_hsl(206_22%_7%_/_20%)_0px_10px_20px_-15px] will-change-[transform,opacity]",sideOffset:5,children:["".concat(Math.round(t||0),"%"),(0,s.jsx)(u.Eh,{className:"fill-black"})]})})]})})});m.displayName=c.fC.displayName;var p=l(30685);let x=p.fC,v=o.forwardRef((e,a)=>{let{className:l,...t}=e;return(0,s.jsx)(p.aV,{ref:a,className:(0,f.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",l),...t})});v.displayName=p.aV.displayName;let y=o.forwardRef((e,a)=>{let{className:l,...t}=e;return(0,s.jsx)(p.xz,{ref:a,className:(0,f.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",l),...t})});y.displayName=p.xz.displayName;let h=o.forwardRef((e,a)=>{let{className:l,...t}=e;return(0,s.jsx)(p.VY,{ref:a,className:(0,f.cn)("ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",l),...t})});h.displayName=p.VY.displayName;var g=l(58789),b=l(89733);let j=o.forwardRef((e,a)=>{let{className:l,type:t,...i}=e;return(0,s.jsx)("input",{type:t,className:(0,f.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",l),ref:a,...i})});j.displayName="Input";var N=l(41164),w=function(e){let{tokenAddress:a,tokenSupply:l,tokenMaxSupply:t,refetch:n}=e,[d,c]=(0,o.useState)(""),[u,f]=(0,o.useState)(),[m,p]=(0,o.useState)(),{signer:x,walletAddress:v,addTokenToWallet:y}=(0,N.Z)(),h=(0,r.np)(t.wei.sub(l.wei)),{data:w}=(0,i.a)({queryKey:["balance",v],queryFn:()=>x.getBalance().then(e=>parseFloat(g.dF(e)).toLocaleString(void 0,{maximumFractionDigits:2})),enabled:!!x&&!!v});(0,o.useEffect)(()=>{(async()=>{if(d&&a)try{let[e,l]=await Promise.all([(0,r.id)(a,parseFloat(d)),(0,r.e_)(a,parseFloat(d))]);f(e),p(l)}catch(e){console.error("Error calculating price info:",e),f(void 0),p(void 0)}else f(void 0),p(void 0)})()},[d,a]);let k=async()=>{if(!d||!u||!a){console.error("Invalid buy parameters");return}try{let e=await (0,r.b7)(x,a,parseFloat(d),u.wei);console.log("Transaction successful:",e),c(""),n()}catch(e){console.error("Error buying tokens:",e)}};return(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4 items-center space-x-2 my-4",children:[(0,s.jsxs)("div",{children:["Your LISK balance: ",w||"0"]}),(0,s.jsxs)("div",{children:["Maximum available to buy:"," ",h.toLocaleString(void 0,{maximumFractionDigits:2})]}),(0,s.jsx)(j,{type:"number",placeholder:"Enter tokens amount",value:d,onChange:e=>{let a=e.target.value;Number(a)<=h?c(a):c(h.toString())},max:h})]}),void 0!==u&&(0,s.jsxs)("div",{className:"mb-2",children:["LISK to pay: ",null==u?void 0:u.formatted]}),void 0!==m&&(0,s.jsxs)("div",{className:"mb-2",children:["LISK per token: ",null==m?void 0:m.formatted]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(b.z,{onClick:k,className:"w-full",children:"Buy"}),(0,s.jsx)(b.z,{variant:"link",onClick:()=>y(a),className:"w-full",children:"Add Token to MetaMask"})]})]})},k=function(e){let{tokenAddress:a,refetch:l}=e,[t,n]=(0,o.useState)(""),[d,c]=(0,o.useState)(),{signer:u,walletAddress:f}=(0,N.Z)(),{data:m,refetch:p}=(0,i.a)({queryKey:["tokenBalance",f,a],queryFn:()=>(0,r.uH)(a,f),enabled:!!u&&!!f&&!!a});(0,o.useEffect)(()=>{(async()=>{if(t&&a)try{let e=await (0,r.$5)(a,parseFloat(t));c(e)}catch(e){console.error("Error calculating receive info:",e),c(void 0)}else c(void 0)})()},[t,a]);let x=async()=>{if(!t||!a){console.error("Invalid sell parameters");return}try{let e=await (0,r.Hk)(u,a,parseFloat(t));console.log("Transaction successful:",e),n(""),l(),p()}catch(e){console.error("Error selling tokens:",e)}};return(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4 items-center space-x-2 my-4",children:[(0,s.jsxs)("div",{children:["Your token balance: ",(null==m?void 0:m.formatted)||"0"]}),(0,s.jsx)(j,{type:"number",placeholder:"Enter tokens amount to sell",value:t,onChange:e=>{let a=e.target.value,l=Number(a),s=m&&parseFloat(g.dF(m.wei));if(s&&l<=s)n(a);else if(m){var t;n(null!==(t=null==s?void 0:s.toString())&&void 0!==t?t:"")}},max:null==m?void 0:m.formatted})]}),void 0!==d&&(0,s.jsxs)("div",{className:"mb-2",children:["LISK to receive: ",null==d?void 0:d.formatted]}),(0,s.jsx)("div",{className:"flex flex-col gap-2",children:(0,s.jsx)(b.z,{onClick:x,className:"w-full",children:"Sell"})})]})},_=function(){let e=(0,t.useSearchParams)().get("address"),{data:a,isLoading:l,isError:o,refetch:c}=(0,i.a)({queryKey:["token",e],queryFn:()=>(0,r.LP)(e),enabled:!!e}),{data:f,isLoading:p,isError:g}=(0,i.a)({queryKey:["ipfsData",null==a?void 0:a.dataFileId],queryFn:()=>a?n.Z.get("https://gateway.pinata.cloud/ipfs/".concat(null==a?void 0:a.dataFileId)).then(e=>e.data):void 0,enabled:!!a&&!!a.dataFileId});return(0,s.jsx)("div",{className:"max-w-[500px]",children:e&&a&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)(d.Z,{children:[a.symbol," ",a.name]}),a.liquidityMigrated&&"Liquidity Migrated",a.liquidityMigrated||(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-2",children:["Supply: ",a.supply.formatted," / ",a.maxSupply.formatted]}),(0,s.jsx)(u.zt,{children:(0,s.jsx)(m,{value:Number(a.supply.wei)/Number(a.maxSupply.wei)*100})})]}),(0,s.jsxs)(x,{defaultValue:"buy",className:"w-full",children:[(0,s.jsxs)(v,{className:"grid w-full grid-cols-2",children:[(0,s.jsx)(y,{value:"buy",children:"Buy"}),(0,s.jsx)(y,{value:"sell",children:"Sell"})]}),(0,s.jsx)(h,{value:"buy",children:(0,s.jsx)(w,{tokenAddress:e,tokenSupply:a.supply,tokenMaxSupply:a.maxSupply,refetch:c})}),(0,s.jsx)(h,{value:"sell",children:(0,s.jsx)(k,{tokenAddress:e,refetch:c})})]})]})]})})}}},function(e){e.O(0,[54,950,951,345,69,868,971,23,744],function(){return e(e.s=36756)}),_N_E=e.O()}]);