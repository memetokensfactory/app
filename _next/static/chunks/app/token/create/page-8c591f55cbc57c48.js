(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[509],{33678:function(e,t,i){Promise.resolve().then(i.bind(i,22222)),Promise.resolve().then(i.bind(i,33225))},22222:function(e,t,i){"use strict";i.d(t,{default:function(){return g}});var s=i(57437),r=i(2265),a=i(39343),o=i(41164),n=i(16463),d=i(21735),c=i(38472),l=i(25566);async function m(e){let t=new FormData;t.append("file",e);let i=JSON.stringify({name:e.name});t.append("pinataMetadata",i);let s=JSON.stringify({cidVersion:0});t.append("pinataOptions",s);try{return(await c.Z.post("https://api.pinata.cloud/pinning/pinFileToIPFS",t,{maxBodyLength:1/0,headers:{"Content-Type":"multipart/form-data; boundary=".concat(t._boundary),Authorization:"Bearer ".concat(l.env.NEXT_PUBLIC_PINATA_JWT)}})).data.IpfsHash}catch(e){throw console.log(e),e}}async function u(e){try{return(await fetch("https://api.pinata.cloud/pinning/pinJSONToIPFS",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.env.NEXT_PUBLIC_PINATA_JWT)},body:JSON.stringify(e)}).then(e=>e.json())).IpfsHash}catch(e){throw console.error(e),Error("Something wrong with upload.")}}var g=()=>{let e=(0,n.useRouter)(),{signer:t}=(0,o.Z)(),{register:i,handleSubmit:c,formState:{errors:l}}=(0,a.cI)(),[g,p]=(0,r.useState)(0),h=async i=>{try{let s=i.image[0],r=await m(s),a={name:i.name,symbol:i.symbol,description:i.description,imageHash:r,website:i.website,telegram:i.telegram,twitter:i.twitter},o=await u(a),{tokenAddress:n}=await (0,d.V3)(t,i.symbol,i.name,o);e.push("/token?address="+n)}catch(e){console.error("Error creating token:",e)}};return(0,s.jsxs)("form",{onSubmit:c(h),className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"symbol",className:"block text-sm font-medium text-gray-700",children:"Symbol"}),(0,s.jsx)("input",{id:"symbol",type:"text",...i("symbol",{required:!0,minLength:2,maxLength:5}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"}),l.symbol&&(0,s.jsx)("span",{className:"text-red-500 text-xs",children:"Symbol is required (2-5 characters)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,s.jsx)("input",{id:"name",type:"text",...i("name",{required:!0,minLength:2,maxLength:20}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"}),l.name&&(0,s.jsx)("span",{className:"text-red-500 text-xs",children:"Name is required (2-20 characters)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700",children:"Image"}),(0,s.jsx)("input",{id:"image",type:"file",accept:"image/*",...i("image",{required:!0,validate:e=>{var t;return(null===(t=e[0])||void 0===t?void 0:t.size)<=1048576||"Image must be 1MB or less"}}),onChange:e=>{e.target.files&&e.target.files[0]&&p(e.target.files[0].size)},className:"mt-1 block w-full"}),l.image&&(0,s.jsx)("span",{className:"text-red-500 text-xs",children:l.image.message||"Image is required (max 1MB)"}),g>0&&(0,s.jsxs)("span",{className:"text-xs",children:[(g/1048576).toFixed(2)," MB"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,s.jsx)("textarea",{id:"description",...i("description",{required:!0,maxLength:256}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"}),l.description&&(0,s.jsx)("span",{className:"text-red-500 text-xs",children:"Description is required (max 256 characters)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700",children:"Website (optional)"}),(0,s.jsx)("input",{id:"website",type:"url",...i("website"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"telegram",className:"block text-sm font-medium text-gray-700",children:"Telegram (optional)"}),(0,s.jsx)("input",{id:"telegram",type:"text",...i("telegram"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"twitter",className:"block text-sm font-medium text-gray-700",children:"Twitter (optional)"}),(0,s.jsx)("input",{id:"twitter",type:"text",...i("twitter"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})]}),(0,s.jsx)("button",{type:"submit",className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Create Token"})]})}}},function(e){e.O(0,[54,783,843,472,527,198,686,971,23,744],function(){return e(e.s=33678)}),_N_E=e.O()}]);